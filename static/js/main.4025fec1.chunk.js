(this["webpackJsonpstocks-app"]=this["webpackJsonpstocks-app"]||[]).push([[0],{192:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),o=a.n(r),i=(a(90),a(29)),l=a(50),s=a(68),m=(a(91),a(218)),u=a(213),d=a(215),p=a(216),g=a(217),E=a(220),f=a(74),h=a.n(f),b=Object(u.a)((function(e){return{root:{flexGrow:1,marginBottom:10},paper:{padding:e.spacing(2),margin:"auto",maxWidth:500},decrease:{color:"darkgreen"},increase:{color:"red"}}})),v=function(e){var t=b(),a=function(){return 0===e.data.change?t.noChange:e.data.change>0?t.increase:t.decrease};return c.a.createElement("div",{className:t.root},c.a.createElement(d.a,{className:t.paper},c.a.createElement(p.a,{container:!0,spacing:2},c.a.createElement(p.a,{item:!0,xs:12,sm:!0,container:!0},c.a.createElement(p.a,{item:!0,xs:!0,container:!0,direction:"row",spacing:2,alignItems:"center"},c.a.createElement(p.a,{item:!0,container:!0,direction:"column",xs:!0},c.a.createElement(p.a,{item:!0},c.a.createElement(g.a,{variant:"h5"},e.data.name)),c.a.createElement(p.a,{item:!0},c.a.createElement(g.a,{variant:"caption",className:a()},"Price: $",Number.parseFloat(e.data.price).toFixed(3)))),c.a.createElement(p.a,{item:!0},c.a.createElement(g.a,{variant:"caption"},"Updated On:"),c.a.createElement(g.a,{variant:"body2"},e.data.updatedTimeStamp.getMonth()+1+"/"+e.data.updatedTimeStamp.getDate()+"/"+e.data.updatedTimeStamp.getFullYear()),c.a.createElement(g.a,{variant:"body2"},e.data.updatedTimeStamp.getUTCHours()+":"+e.data.updatedTimeStamp.getUTCMinutes()+":"+e.data.updatedTimeStamp.getUTCSeconds())),c.a.createElement(p.a,{item:!0},c.a.createElement(E.a,{title:"Show chart"},c.a.createElement(m.a,{onClick:function(){e.selectChart(e.data.name)},className:a()},c.a.createElement(h.a,null)))))))))},S=a(75),k=function(e){var t={labels:e.data.map((function(e){return(t=e.time).getUTCHours()+":"+t.getUTCMinutes()+":"+t.getUTCSeconds();var t})),datasets:[{label:e.name,fill:!1,backgroundColor:"blue",borderColor:"blue",pointBorderColor:"blue",pointRadius:2,data:e.data.map((function(e){return e.price}))}]};return c.a.createElement("div",null,0!==e.data.length?c.a.createElement(S.Line,{data:t}):c.a.createElement(c.a.Fragment,null))},w=a(219),O=a(76),j=a.n(O),y=a(77),C=a.n(y),T=Object(u.a)((function(e){return{stocksList:{flexGrow:1,overflowY:"scroll",height:"calc(100vh)",padding:"0 10px"},stocks:{paddingBottom:10}}})),x=new WebSocket("wss://trades-api.herokuapp.com/stocks");var N=function(){var e=Object(n.useState)(new Map),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),m=Object(i.a)(o,2),u=m[0],d=m[1],g=Object(n.useState)([]),E=Object(i.a)(g,2),f=E[0],h=E[1],b=Object(n.useState)(""),S=Object(i.a)(b,2),O=S[0],y=S[1];Object(n.useEffect)((function(){return x.onopen=function(){console.log("connection Established")},function(){x.close(),console.log("connection closed")}}),[]),Object(n.useEffect)((function(){x.onmessage=function(e){u||r(new Map(function(e,t){var a,n=JSON.parse(e),c=new Date,r=Object(s.a)(n);try{for(r.s();!(a=r.n()).done;){var o=a.value;if(t.has(o[0])){var i=t.get(o[0]);t.set(o[0],{updatedTimeStamp:c,change:i.price-o[1],price:o[1],history:0!==i.history.length?[].concat(Object(l.a)(i.history),[{price:o[1],time:c}]):[{price:i.price,time:c}],name:o[0]})}else t.set(o[0],{updatedTimeStamp:c,change:0,price:o[1],history:[{price:o[1],time:c}],name:o[0]})}}catch(m){r.e(m)}finally{r.f()}return t}(e.data,a)))}}),[u,a]);var N=T(),U=function(e){h(a.get(e).history),y(a.get(e).name)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("section",null,c.a.createElement(p.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},c.a.createElement(p.a,{item:!0,xs:9,sm:8,lg:3},c.a.createElement("h1",null,"Stocks App")),c.a.createElement(p.a,{item:!0},c.a.createElement(w.a,{color:"primary","aria-label":"play",style:{float:"right"},onClick:function(){d(!u)}},u?c.a.createElement(j.a,{fontSize:"large"}):c.a.createElement(C.a,{fontSize:"large"}))))),c.a.createElement(p.a,{container:!0},c.a.createElement(p.a,{item:!0,xs:12,md:3},c.a.createElement("section",{className:N.stocksList},Object(l.a)(a.values()).map((function(e,t){return c.a.createElement(v,{className:N.stocks,key:"stock-"+t,data:e,selectChart:U})})))),c.a.createElement(p.a,{item:!0,xs:12,md:9},c.a.createElement("section",null,c.a.createElement(k,{data:f,name:O})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},85:function(e,t,a){e.exports=a(192)},90:function(e,t,a){},91:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.4025fec1.chunk.js.map